<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Layui</title>
		<meta name="renderer" content="webkit">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
		<link rel="stylesheet" href="./css/layui.css" media="all">

	</head>
	<body>



		<fieldset class="layui-elem-field layui-field-title" style="margin-top: 20px;">
			<legend>添加项目</legend>
		</fieldset>

		<form id="f" class="layui-form" action="http://localhost:8020/project/save">
			<div class="layui-form-item layui-col-md3">
				<label class="layui-form-label">项目名</label>
				<div class="layui-input-block">
					<input type="text" name="projectName" lay-verify="title" autocomplete="off" placeholder="请输入项目名"
						class="layui-input">
				</div>
			</div>


			<div class="layui-form-item">
				<div class="layui-input-block">
					<button type="button" class="layui-btn" id="btn" lay-submit="" lay-filter="demo1">立即提交</button>

				</div>
			</div>
		</form>

		<!-- 示例-970 -->
		<ins class="adsbygoogle" style="display:inline-block;width:970px;height:90px"
			data-ad-client="ca-pub-6111334333458862" data-ad-slot="3820120620"></ins>



		<script src="./js/layui.js" charset="utf-8"></script>
		<script src="./js/jquery-3.5.1.min.js"></script>
		<!-- 注意：如果你直接复制所有代码到本地，上述 JS 路径需要改成你本地的 -->
		<script>
			layui.use(['form', 'layedit', 'laydate'], function() {
				var form = layui.form,
					layer = layui.layer,
					layedit = layui.layedit,
					laydate = layui.laydate;




				$("#btn").on('click', function() {

				        var data=$("form").serialize(); //输出字符串
				               // console.log($("form").serializeArray()); //输出数组
					
					$.ajax({
						url: 'http://localhost:8020/project/save',
						type: 'get',
						dataType: 'json',
						// data: JSON.stringify(data),
						data: data,
						success: function(res) {
							console.log(res)
							if(res.code==1){
								alert(res.msg);
								return false;
							}
							if(res.code==0){
								alert("添加成功");
								$('form')[0].reset();
								return false;
							}
						}
					})
				return false;
				});

				//  //监听提交
				//  form.on('submit(demo1)', function(data){
				//    layer.alert(JSON.stringify(data.field), {
				//      title: '最终的提交信息'
				//    })
				// console.log(JSON.stringify(data.field))



				// return false;
				//  });




			});
		</script>

	</body>
</html>
